(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/3.6f3cce1c.jpg"},278:function(e,t,a){},300:function(e,t,a){e.exports=a.p+"static/media/1.15f33718.jpg"},301:function(e,t,a){e.exports=a.p+"static/media/2.4b150143.jpg"},303:function(e,t,a){e.exports=a.p+"static/media/author.f7f17eba.png"},343:function(e,t,a){e.exports=a(645)},351:function(e,t,a){},561:function(e,t,a){},642:function(e,t,a){},643:function(e,t,a){},644:function(e,t,a){},645:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),c=a.n(l),o=(a(348),a(349),a(8)),i=a(106),u=a(68),m=(a(350),a(351),a(294)),s=a(649),d=a(650),E=a(293),f=a(655),g=a(56),h=a.n(g),p=a(147),b=a(148),v=a.n(b);function y(e,t){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.a.post(t,a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.a.get(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return _.apply(this,arguments)}function _(){return(_=Object(p.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.a.put(t,a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=[49.0139,31.2858],S=function(e){var t=r.a.useState(""),a=Object(o.a)(t,2),n=a[0],l=a[1],c=r.a.useState(""),i=Object(o.a)(c,2),u=i[0],g=i[1];return r.a.createElement(s.a,null,r.a.createElement(d.a,{className:"justify-content-center"},r.a.createElement(E.a,{xs:6},r.a.createElement(f.a,null,r.a.createElement(f.a.Group,{controlId:"formUsername"},r.a.createElement(f.a.Label,null,"Username"),r.a.createElement(f.a.Control,{type:"input",placeholder:"Enter username",value:n,onChange:function(e){return l(e.target.value)}})),r.a.createElement(f.a.Group,{controlId:"formBasicPassword"},r.a.createElement(f.a.Label,null,"Password"),r.a.createElement(f.a.Control,{type:"password",placeholder:"Password",value:u,onChange:function(e){return g(e.target.value)}})),r.a.createElement(m.a,{variant:"primary",onClick:function(){y("/login",{login:n,password:u}).then((function(t){var a=t.data;a?(e.onHide(),e.setUser(a),sessionStorage.setItem("user",JSON.stringify(a))):alert("Incorrect login/password")}))}},"Login")))))},w=a(656),I=function(e){return r.a.createElement(w.a,Object.assign({},e,{size:e.size||"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,{id:"contained-modal-title-vcenter"},e.header)),r.a.createElement(w.a.Body,null,e.children),r.a.createElement(w.a.Footer,null,r.a.createElement(m.a,{onClick:e.onHide},"Close")))},M=function(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{variant:"primary",onClick:function(){return l(!0)}},"Log In"),r.a.createElement(I,{show:n,onHide:function(){return l(!1)},header:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0434\u043e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0430\u043a\u0430\u0443\u043d\u0442\u0443"},r.a.createElement(S,{onHide:function(){return l(!1)},setUser:e.setUser})))},P=a(108),N=a(651),F=function(e){var t=e.user,a=e.setUser;return r.a.createElement(P.a,{className:"justify-content-between container mt-2 mb-2"},r.a.createElement(P.a.Item,{className:"d-flex align-items-center"},r.a.createElement(P.a.Item,null,r.a.createElement(i.b,{to:"/"},"Home")),r.a.createElement(N.a,{title:"\u041a\u0430\u0440\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u044c"},r.a.createElement(N.a.Item,null,"\u0412\u043e\u0434\u0430"),r.a.createElement(N.a.Item,null,"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u0430"),r.a.createElement(N.a.Item,null,r.a.createElement(i.b,{to:"/earth"},"\u0417\u0435\u043c\u043b\u044f")))),r.a.createElement(P.a.Item,null,t?r.a.createElement("div",{className:"d-flex"},r.a.createElement("h3",{className:"mr-2"},"Welcome, ",t.user_name," (",t.expert_name,")"),r.a.createElement(m.a,{variant:"outline-secondary",size:"sm",onClick:function(){return a(null),void sessionStorage.removeItem("user")}},"Log Out")):r.a.createElement(M,{setUser:a})))},L=a(659),D=a(300),z=a.n(D),A=a(301),G=a.n(A),H=a(109),T=a.n(H),B=function(){return r.a.createElement(L.a,{className:"carousel"},r.a.createElement(L.a.Item,null,r.a.createElement("img",{className:"w-100",src:z.a,alt:"First slide"}),r.a.createElement(L.a.Caption,null,r.a.createElement("h3",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u0432\u043e\u0434\u043d\u0438\u043c\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c\u0438"))),r.a.createElement(L.a.Item,null,r.a.createElement("img",{className:"w-100",src:G.a,alt:"Second slide"}),r.a.createElement(L.a.Caption,null,r.a.createElement("h3",null,"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0438\u0439 \u0435\u043a\u043e\u043b\u043e\u0433\u043e-\u0435\u043a\u043e\u043d\u043e\u043c\u0456\u0447\u043d\u0438\u0439 \u043c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433"))),r.a.createElement(L.a.Item,null,r.a.createElement("img",{className:"w-100",src:T.a,alt:"Third slide"}),r.a.createElement(L.a.Caption,null,r.a.createElement("h3",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u0432\u0456\u0434\u0445\u043e\u0434\u0430\u043c\u0438"))),r.a.createElement(L.a.Item,null,r.a.createElement("img",{className:"w-100",src:T.a,alt:"Fourth slide"}),r.a.createElement(L.a.Caption,null,r.a.createElement("h3",null,"\u041e\u0445\u043e\u0440\u043e\u043d\u0430 \u0437\u0435\u043c\u0435\u043b\u044c"))),r.a.createElement(L.a.Item,null,r.a.createElement("img",{className:"w-100",src:T.a,alt:"Fifth slide"}),r.a.createElement(L.a.Caption,null,r.a.createElement("h3",null,"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u0435 \u043f\u043e\u0432\u0456\u0442\u0440\u044f"))),r.a.createElement(L.a.Item,null,r.a.createElement("img",{className:"w-100",src:T.a,alt:"Sixth slide"}),r.a.createElement(L.a.Caption,null,r.a.createElement("h3",null,"\u0417\u0434\u043e\u0440\u043e\u0432'\u044f \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044f"))))},U=a(662),W=a(303),V=a.n(W),J=function(){return r.a.createElement(U.a,null,r.a.createElement(U.a.Img,{variant:"top",src:V.a}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,"David Guetta"),r.a.createElement(U.a.Text,null,"Pierre David Guetta is a French DJ, music programmer, record producer and songwriter.")))},Y=a(663),K=function(){return r.a.createElement(Y.a,null,r.a.createElement("h4",null,"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0438\u0439 \u0435\u043a\u043e\u043b\u043e\u0433\u043e-\u0435\u043a\u043e\u043d\u043e\u043c\u0456\u0447\u043d\u0438\u0439 \u043c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433 (\u041a\u0415\u0415\u041c) \u0431\u0430\u0437\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0442\u0430\u043a\u0438\u0445 \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0445 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0430\u0445:"),r.a.createElement(Y.a.Item,null,"\u0417\u0431\u0456\u0440 \u0440\u0456\u0437\u043d\u043e\u0440\u0456\u0434\u043d\u043e\u0457 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u0437 \u0440\u0456\u0437\u043d\u0438\u0445 \u0442\u043e\u0447\u043e\u043a \u0440\u0435\u0433\u0456\u043e\u043d\u0443."),r.a.createElement(Y.a.Item,null,"\u041e\u0431\u0440\u043e\u0431\u043b\u0435\u043d\u043d\u044f \u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u043c\u0430\u0441\u0438\u0432\u0456\u0432 \u0434\u0430\u043d\u0438\u0445 \u0440\u0456\u0437\u043d\u0438\u043c\u0438 \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0430\u043c\u0438."),r.a.createElement(Y.a.Item,null,"\u041e\u0434\u043d\u043e\u0447\u0430\u0441\u043d\u0430 \u0440\u043e\u0431\u043e\u0442\u0430 \u0440\u0456\u0437\u043d\u0438\u0445 \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0456\u0432 \u0437 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u044e \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0454\u044e \u0442\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0454\u044e \u0432\u0456\u0434 \u0456\u043d\u0448\u0438\u0445 \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0456\u0432."),r.a.createElement(Y.a.Item,null,"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043d\u0430 \u043a\u0430\u0440\u0442\u0456 \u043c\u0456\u0441\u0446\u0435\u0432\u043e\u0441\u0442\u0456 \u0434\u043b\u044f \u043d\u0430\u043e\u0447\u043d\u043e\u0441\u0442\u0456."),r.a.createElement(Y.a.Item,null,"\u0414\u043e\u0441\u043b\u0456\u0434\u0436\u0435\u043d\u043d\u044f \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0440\u0456\u0437\u043d\u0438\u0445 \u0432\u0438\u0434\u0456\u0432 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0430\u043d\u0430\u043b\u0456\u0437\u0443."),r.a.createElement(Y.a.Item,null,"\u041e\u0446\u0456\u043d\u043a\u0430 \u0441\u0438\u0442\u0443\u0430\u0446\u0456\u0457 \u0443 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e\u043c\u0443 \u0440\u0435\u0433\u0456\u043e\u043d\u0456 \u0437 \u0442\u043e\u0447\u043a\u0438 \u0437\u043e\u0440\u0443 \u0437\u0430\u043a\u043e\u043d\u0443 \u0442\u0430 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0437\u0430\u043a\u043e\u043d\u043d\u043e\u0441\u0442\u0456 \u043d\u0430\u0431\u043e\u0440\u0443 \u0437\u0430\u0445\u043e\u0434\u0456\u0432 \u043f\u043e \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044e \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u0433\u043e \u0441\u0442\u0430\u043d\u0443 \u0440\u0435\u0433\u0456\u043e\u043d\u0443 \u0430\u0431\u043e \u043b\u0456\u043a\u0432\u0456\u0434\u0430\u0446\u0456\u0457 \u043d\u0430\u0441\u043b\u0456\u0434\u043a\u0456\u0432 \u043d\u0430\u0434\u0437\u0432\u0438\u0447\u0430\u0439\u043d\u0438\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0456\u0439."))},R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null),r.a.createElement(s.a,null,r.a.createElement(d.a,{className:"justify-content-center mt-5 mb-5"},r.a.createElement(E.a,{xs:4},r.a.createElement(J,null)),r.a.createElement(E.a,{xs:8},r.a.createElement(K,null)))))},Z=a(53),$=a(658),q=a(661),Q=a(665),X=a(91),ee=function(e,t){return Object(Z.a)(new Set(e.filter((function(e){var a=e.idElement;return Number(t)===a})).map((function(e){return e.short_name}))))},te=function(e,t){return e.filter((function(e,a,n){return n.map((function(e){return e[t]})).indexOf(e[t])===a}))},ae=a(660),ne=a(664),re=a(652),le=a(138),ce=a(145),oe=a(304),ie=a(39),ue=["#0088FE","#00C49F","#FFBB28","#FF8042"],me=function(e){var t=e.data,a=t.map((function(e){return Object(oe.a)({},e,{value:+e.value.toFixed(4)})}));return r.a.createElement(ie.g,{width:400,height:400},r.a.createElement(ie.f,{data:a,cx:200,cy:200,label:!0,labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",isAnimationActive:!1},t.map((function(e,t){return r.a.createElement(ie.d,{key:"cell-".concat(t),fill:ue[t%ue.length]})}))))},se=a(77),de={elementId:"",year:""},Ee=function(e){var t=e.emissions,a=r.a.useState(de.elementId),n=Object(o.a)(a,2),l=n[0],c=n[1],i=r.a.useState(de.year),u=Object(o.a)(i,2),m=u[0],s=u[1];if(!t)return null;var d=ee(t,l),E=Object(o.a)(d,1)[0],f=function(e){var t=Object(Z.a)(new Set(e.map((function(e){return e.idElement})))),a={};return e.forEach((function(e){var n=e.idElement,r=e.ValueAvg,l=e.ValueMax,c=e.Year,o=e.Month;t.forEach((function(e){if(e===n)if(a[e])if(a[n][c])if(a[n][c][o]){var t=a[n][c][o],i=t.avg,u=t.max;a[n][c][o]={avg:r+i,max:l+u}}else a[n][c][o]={avg:r,max:l};else a[n][c]=Object(X.a)({},o,{avg:r,max:l});else a[n]=Object(X.a)({},c,Object(X.a)({},o,{avg:r,max:l}))}))})),a}(t),g=function(e,t,a){return e&&t&&a&&Object.keys(e[t][a]).map((function(n){return{month:n,average:e[t][a][n].avg,max:e[t][a][n].max}}))}(f,l,m);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex mb-3"},r.a.createElement(se.a,{className:"mr-2"},r.a.createElement(se.a.Toggle,{size:"md"},E||"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0435\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement(se.a.Menu,null,f&&Object.keys(f).map((function(e){var a=ee(t,e),n=Object(o.a)(a,1)[0];return r.a.createElement(se.a.Item,{key:e,active:l===e,onClick:function(){c(e),s(de.year)}},n)})))),l&&r.a.createElement(se.a,null,r.a.createElement(se.a.Toggle,{size:"md"},m||"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u0456\u043a"),r.a.createElement(se.a.Menu,null,f&&Object.keys(f[l]).map((function(e){return r.a.createElement(se.a.Item,{key:e,active:m===e,onClick:function(){return s(e)}},e)}))))),r.a.createElement("div",{className:"mb-3"},l&&m&&r.a.createElement(ie.b,{width:500,height:300,data:g,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ie.c,{strokeDasharray:"3 3"}),r.a.createElement(ie.i,{dataKey:"month"}),r.a.createElement(ie.j,null),r.a.createElement(ie.h,null),r.a.createElement(ie.e,null),r.a.createElement(ie.a,{dataKey:"average",fill:"#8884d8"}),r.a.createElement(ie.a,{dataKey:"max",fill:"#82ca9d"}))))},fe=a(315),ge=a(27),he=a(657),pe=function(e){var t=e.id,a=e.param,n=e.setEmissionCalculations,l=r.a.useState([{startDate:new Date,endDate:Object(ge.a)(new Date,7),key:"selection"}]),c=Object(o.a)(l,2),i=c[0],u=c[1];return r.a.useEffect((function(){var e=Object(o.a)(i,1)[0];O("".concat("/emissionscalculations","?").concat(a,"=").concat(t,"&startDate=").concat(e.startDate.toISOString(),"&endDate=").concat(e.endDate.toISOString())).then((function(e){var t=e.data;return n(t)}))}),[t,i]),r.a.createElement(fe.DateRangePicker,{locale:he.a,onChange:function(e){return u([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:i,direction:"horizontal"})},be=(a(561),function(e){var t=e.id,a=e.isPoint,n=e.onHide,l=e.show,c=e.emissions,i=a?"idPoi":"idPolygon",u=r.a.useState([]),m=Object(o.a)(u,2),s=m[0],d=m[1];r.a.useEffect((function(){E(t)}),[t]);var E=function(e){O("".concat("/emissionscalculations","?").concat(i,"=").concat(e)).then((function(e){var t=e.data;return d(t)}))},f=s&&s.length>0?s.map((function(e){return{name:e.element,value:e.averageCalculations.average}})):[],g=s&&s.length>0?s.map((function(e){return{name:e.element,value:e.maximumCalculations.max}})):[];return r.a.createElement(I,{size:"xl",show:l,onHide:n,header:"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0432\u0438\u043a\u0438\u0434\u0438"},r.a.createElement("h3",{className:"mb-3"},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438 \u0434\u043b\u044f \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0438\u043a\u0438\u0434\u0456\u0432 \u0437\u0430 \u043f\u0435\u0432\u043d\u0438\u0439 \u043f\u0435\u0440\u0456\u043e\u0434"),r.a.createElement(pe,{id:t,param:i,setEmissionCalculations:d}),s.length>0?r.a.createElement(re.a,{className:"emissions-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0415\u043b\u0435\u043c\u0435\u043d\u0442"},"\u0415\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435"},"\u0421\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435"),r.a.createElement("th",{title:"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"},"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f average \u0432\u0438\u043a\u0438\u0434\u0456\u0432"},"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f average \u0432\u0438\u043a\u0438\u0434\u0456\u0432"),r.a.createElement("th",{title:"\u0413\u0414\u041a average"},"\u0413\u0414\u041a average"),r.a.createElement("th",{title:"\u041f\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043d\u043d\u044f \u0413\u0414\u041a average"},"\u041f\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043d\u043d\u044f \u0413\u0414\u041a average"),r.a.createElement("th",{title:"Max \u0432\u0438\u043a\u0438\u0434\u0456\u0432"},"Max \u0432\u0438\u043a\u0438\u0434\u0456\u0432"),r.a.createElement("th",{title:"\u0413\u0414\u041a max"},"\u0413\u0414\u041a max"),r.a.createElement("th",{title:"\u041f\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043d\u043d\u044f \u0413\u0414\u041a max"},"\u041f\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043d\u043d\u044f \u0413\u0414\u041a max"))),r.a.createElement("tbody",null,s.map((function(e,t){var a=e.averageCalculations.gdkAverage?(e.averageCalculations.gdkAverage-e.averageCalculations.average).toFixed(2):"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445",n=e.maximumCalculations.gdkMax?(e.maximumCalculations.gdkMax-e.maximumCalculations.max).toFixed(2):"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445";return r.a.createElement("tr",{key:t},r.a.createElement("td",{title:e.element},e.element),r.a.createElement("td",{title:e.element},e.idEnvironment),r.a.createElement("td",{title:e.measure},e.measure),r.a.createElement("td",{title:e.averageCalculations.average},e.averageCalculations.average.toFixed(2)),r.a.createElement("td",{title:e.averageCalculations.gdkAverage||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"},e.averageCalculations.gdkAverage||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"),r.a.createElement("td",{title:a},a),r.a.createElement("td",{title:e.maximumCalculations.max},e.maximumCalculations.max.toFixed(2)),r.a.createElement("td",{title:e.maximumCalculations.gdkMax||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"},e.maximumCalculations.gdkMax||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"),r.a.createElement("td",{title:n},n))})))):r.a.createElement("h5",{className:"mb-3"},"\u041d\u0435\u043c\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043f\u0440\u043e \u0432\u0438\u043a\u0438\u0434\u0438 \u0437\u0430 \u043e\u0431\u0440\u0430\u043d\u0438\u0439 \u043f\u0435\u0440\u0456\u043e\u0434"),r.a.createElement(Ee,{emissions:c}),r.a.createElement("h3",null,"\u0421\u0443\u043c\u0430 average \u0432\u0438\u043a\u0438\u0434\u0456\u0432"),r.a.createElement(me,{data:f}),r.a.createElement("h3",null,"\u0421\u0443\u043c\u0430 max \u0432\u0438\u043a\u0438\u0434\u0456\u0432"),r.a.createElement(me,{data:g}))}),ve=(a(278),!1),ye=function(e){var t=e.polygons,a=e.setPolygonId,n=e.setIsEditPolygonMode,l=e.setShowPolygonModal,c=r.a.useState(ve),i=Object(o.a)(c,2),u=i[0],s=i[1];return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=e.poligonId,c=e.polygonPoints,o=e.brushColorR,i=e.brushColorG,d=e.brushColorB,E=e.user_name,f=e.name,g=e.emissions;return r.a.createElement(ae.a,{key:t,positions:c,color:"rgba(".concat(o,", ").concat(i,", ").concat(d,", 1)")},r.a.createElement(ne.a,{maxWidth:"auto"},r.a.createElement(le.a,{icon:ce.a,onClick:function(){return a(t),n(!0),void l(!0)},className:"edit-pencil-icon"}),r.a.createElement("div",{className:"mt-4 mb-2"},f&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u041d\u0430\u0437\u0432\u0430:")," ",f),E&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u041a\u0435\u0440\u0456\u0432\u043d\u0438\u043a \u044f\u043a\u0438\u0439 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432:")," ",E)),g&&g.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"emissions-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"},"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435"},"\u0421\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u0420\u0456\u043a"},"\u0420\u0456\u043a"),r.a.createElement("th",{title:"\u041c\u0456\u0441\u044f\u0446\u044c"},"\u041c\u0456\u0441\u044f\u0446\u044c"),r.a.createElement("th",{title:"\u0414\u0435\u043d\u044c"},"\u0414\u0435\u043d\u044c"),r.a.createElement("th",{title:"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"},"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"))),r.a.createElement("tbody",null,g.map((function(e,t){var a=e.short_name,n=e.name,l=e.ValueAvg,c=e.ValueMax,o=e.Year,i=e.Month,u=e.day,m=e.Measure;return r.a.createElement("tr",{key:t},r.a.createElement("td",{title:a},a),r.a.createElement("td",{title:n},n),r.a.createElement("td",{title:l},l),r.a.createElement("td",{title:c},c),r.a.createElement("td",{title:o},o),r.a.createElement("td",{title:i},i),r.a.createElement("td",{title:u},u),r.a.createElement("td",{title:m},m))})))),r.a.createElement(m.a,{size:"sm",onClick:function(){return s(!0)}},"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0433\u0440\u0430\u0444\u0456\u043a\u0438 \u0432\u0438\u043a\u0438\u0434\u0456\u0432")),r.a.createElement(be,{id:t,emissions:g,show:u,onHide:function(){return s(!1)}})))})))},je=a(653),Oe=a(318),xe=function(e){var t=e.points,a=e.setShowPointModal,n=e.setPointId,l=e.setIsEditPointMode,c=r.a.useState(!1),i=Object(o.a)(c,2),u=i[0],s=i[1];return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=e.Id,c=e.coordinates,o=e.name,i=e.Description,d=e.Image,E=e.emissions,f=e.owner_type;return r.a.createElement(je.a,{key:t,position:c,icon:new Oe.a({iconUrl:d,iconSize:[20,30]})},r.a.createElement(ne.a,{maxWidth:"auto"},r.a.createElement(le.a,{icon:ce.a,onClick:function(){return function(e){n(e),l(!0),a(!0)}(t)},className:"edit-pencil-icon"}),r.a.createElement("div",{className:"mt-4 mb-2"},o&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u041d\u0430\u0437\u0432\u0430:")," ",o),i&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u041e\u043f\u0438\u0441:")," ",i),f&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0441\u043d\u043e\u0441\u0442\u0456:")," ",f.name)),E.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"emissions-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"},"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435"},"\u0421\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u0420\u0456\u043a"},"\u0420\u0456\u043a"),r.a.createElement("th",{title:"\u041c\u0456\u0441\u044f\u0446\u044c"},"\u041c\u0456\u0441\u044f\u0446\u044c"),r.a.createElement("th",{title:"\u0414\u0435\u043d\u044c"},"\u0414\u0435\u043d\u044c"),r.a.createElement("th",{title:"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"},"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"))),r.a.createElement("tbody",null,E.map((function(e,t){var a=e.short_name,n=e.name,l=e.ValueAvg,c=e.ValueMax,o=e.Year,i=e.Month,u=e.day,m=e.Measure;return r.a.createElement("tr",{key:t},r.a.createElement("td",{title:a},a),r.a.createElement("td",{title:n},n),r.a.createElement("td",{title:l},l),r.a.createElement("td",{title:c},c),r.a.createElement("td",{title:o},o),r.a.createElement("td",{title:i},i),r.a.createElement("td",{title:u},u),r.a.createElement("td",{title:m},m))})))),r.a.createElement(m.a,{size:"sm",onClick:function(){return s(!0)}},"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0433\u0440\u0430\u0444\u0456\u043a\u0438 \u0432\u0438\u043a\u0438\u0434\u0456\u0432")),r.a.createElement(be,{isPoint:!0,id:t,emissions:E,show:u,onHide:function(){return s(!1)}})))})))},Ce=a(654),_e=new Date,ke=_e.getFullYear(),Se=("0"+(_e.getMonth()+1)).slice(-2),we=("0"+_e.getDate()).slice(-2),Ie={form:{environment:{id:4,name:"Please select environment"},date:_e,valueAvg:0,valueMax:0,gdk:1e5,element:{code:0,short_name:"Please select element"},measure:""}},Me=function(e){var t=e.onSave,a=Object(n.useState)(!1),l=Object(o.a)(a,2),c=l[0],i=l[1],u=c?"Less":"More",s=Object(n.useState)([]),d=Object(o.a)(s,2),E=d[0],g=d[1],h=Object(n.useState)(Ie.form.environment),p=Object(o.a)(h,2),b=p[0],v=p[1],j=Object(n.useState)(Ie.form.date),x=Object(o.a)(j,2),C=x[0],_=x[1],k=Object(n.useState)(Ie.form.valueAvg),S=Object(o.a)(k,2),w=S[0],I=S[1],M=Object(n.useState)(Ie.form.gdk),P=Object(o.a)(M,2),N=P[0],F=P[1],L=Object(n.useState)(Ie.form.valueMax),D=Object(o.a)(L,2),z=D[0],A=D[1],G=Object(n.useState)(Ie.form.gdk),H=Object(o.a)(G,2),T=H[0],B=H[1],U=Object(n.useState)([]),W=Object(o.a)(U,2),V=W[0],J=W[1],Y=Object(n.useState)(Ie.form.element),K=Object(o.a)(Y,2),R=K[0],Z=K[1],$=Object(n.useState)(Ie.form.measure),q=Object(o.a)($,2),Q=q[0],X=q[1],ee=function(){v(Ie.form.environment),_(Ie.form.date),I(Ie.form.valueAvg),F(Ie.form.gdk),A(Ie.form.valueMax),B(Ie.form.gdk),Z(Ie.form.element),X(Ie.form.measure)};return Object(n.useEffect)((function(){O("/environments").then((function(e){var t=e.data;return g(t)})),O("/elements").then((function(e){var t=e.data;return J(t)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(m.a,{onClick:function(){ee(),i(!c)}},u)),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Group,null,r.a.createElement(se.a,null,r.a.createElement(se.a.Toggle,{size:"sm",variant:"success"},b.name),r.a.createElement(se.a.Menu,null,E.length&&E.map((function(e){return r.a.createElement(se.a.Item,{disabled:4!==e.id,key:e.id,onClick:function(){return v(e)}},e.name)}))))),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Enter date"),r.a.createElement(f.a.Control,{type:"date",value:C,onChange:function(e){new Date(e.target.value)>_e?_("".concat(ke,"-").concat(Se,"-").concat(we)):_(e.target.value)}})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Enter average value"),r.a.createElement(f.a.Control,{type:"number",min:"0",value:w,onChange:function(e){return I(+e.target.value)}})),N>0&&N<w&&r.a.createElement(Ce.a,{variant:"danger"},"Average value is too high (",N,")"),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Enter max value"),r.a.createElement(f.a.Control,{type:"number",min:"0",value:z,onChange:function(e){return A(+e.target.value)}})),T>0&&T<z&&r.a.createElement(Ce.a,{variant:"danger"},"Max value is too high (",T,")"),r.a.createElement(f.a.Group,null,r.a.createElement(se.a,null,r.a.createElement(se.a.Toggle,{size:"sm",variant:"success"},R.short_name),r.a.createElement(se.a.Menu,{style:{height:"500px",overflowY:"scroll"}},V.length&&V.map((function(e){return r.a.createElement(se.a.Item,{key:e.code,onClick:function(){return function(e){Z(e),X(e.measure),y("/gdk",{code:e.code,environment:b.id}).then((function(e){var t=e.data;t.average&&t.max?(F(t.average),B(t.max)):(F(Ie.form.valueAvg),B(Ie.form.valueMax))}))}(e)}},e.short_name)}))))),Q&&r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Measure"),r.a.createElement(f.a.Control,{type:"input",disabled:!0,value:Q}))),r.a.createElement(m.a,{variant:"outline-primary",onClick:function(){var e;if(c&&C){var a=C.split("-"),n=Object(o.a)(a,3),r=n[0],l=n[1],i=n[2];e=c&&{valueAvg:w,valueMax:z,year:r,month:l,day:i,idElement:R.code,idEnvironment:b.id,measure:Q}}t(e),ee()}},"Save"))},Pe={name:"",description:"",type:{id:0,name:""},ownerType:{id:0,type:""}},Ne="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0443",Fe="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0441\u043d\u043e\u0441\u0442\u0456",Le=function(e){var t=e.onHide,a=e.show,l=e.coordinates,c=e.setShouldFetchData,i=e.isEditPointMode,u=e.setIsEditPointMode,m=e.pointId,s=e.setPointId,d=e.user,E=Object(n.useState)(Pe.name),g=Object(o.a)(E,2),h=g[0],p=g[1],b=Object(n.useState)(Pe.description),v=Object(o.a)(b,2),j=v[0],x=v[1],_=Object(n.useState)(Pe.type),k=Object(o.a)(_,2),S=k[0],w=k[1],M=Object(n.useState)(Pe.ownerType),P=Object(o.a)(M,2),N=P[0],F=P[1],L=Object(n.useState)([]),D=Object(o.a)(L,2),z=D[0],A=D[1],G=Object(n.useState)([]),H=Object(o.a)(G,2),T=H[0],B=H[1],U=function(){p(Pe.name),x(Pe.description),w(Pe.type),F(Pe.ownerType)},W=function(){i||U(),t()};return Object(n.useEffect)((function(){O("/typeofobjects").then((function(e){var t=e.data;A(t)})),O("/ownertypes").then((function(e){var t=e.data;B(t)}))}),[]),Object(n.useEffect)((function(){i&&m&&O("".concat("/point","/").concat(m)).then((function(e){var t=e.data,a=z.find((function(e){return e.id===t.type})),n=T.find((function(e){return e.id===t.owner_type.id}));a&&w(a),n&&F(n),p(t.name),x(t.description)}))}),[m,i]),r.a.createElement(I,{size:"lg",show:a,onHide:function(){return W()},header:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0430\u0431\u043e \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u043e\u0447\u043a\u0443"},r.a.createElement(f.a,null,r.a.createElement(f.a.Group,null,r.a.createElement(se.a,null,r.a.createElement(se.a.Toggle,{size:"sm",variant:"success"},S.name||Ne),r.a.createElement(se.a.Menu,null,z.length&&z.map((function(e){return r.a.createElement(se.a.Item,{key:e.id,active:e===S,onClick:function(){return w(e)}},e.name)}))))),r.a.createElement(f.a.Group,null,r.a.createElement(se.a,null,r.a.createElement(se.a.Toggle,{size:"sm",variant:"success"},N.type||Fe),r.a.createElement(se.a.Menu,null,T.length&&T.map((function(e){return r.a.createElement(se.a.Item,{key:e.id,active:e===N,onClick:function(){return F(e)}},e.type)}))))),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Enter name"),r.a.createElement(f.a.Control,{type:"input",value:h,onChange:function(e){return p(e.target.value)}})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Enter description"),r.a.createElement(f.a.Control,{as:"textarea",rows:"3",value:j,onChange:function(e){return x(e.target.value)}})),i?r.a.createElement(Me,{onSave:function(e){C("".concat("/point","/").concat(m),{name:h,description:j,type:S.id,owner_type_id:N.id,emission:e}).then((function(){U(),t(),c(!0),u(!1),s(null)})).catch((function(){c(!1),u(!1),s(null)}))}}):r.a.createElement(Me,{onSave:function(e){y("/point",{name:h,description:j,type:S.id,coordinates:l,emission:e,id_of_user:d.id_of_user,owner_type_id:N.id}).then((function(){U(),t(),c(!0)})).catch((function(){return c(!1)}))}})))},De=a(319),ze={brushColor:{r:0,g:0,b:0,a:1},lineThickness:1,name:"",type:"poligon",description:""},Ae=function(e){var t=e.onHide,a=e.show,l=e.coordinates,c=e.setShouldFetchData,i=e.setNewPolygonCoordinates,u=e.user,m=e.isEditPolygonMode,s=e.setIsEditPolygonMode,d=e.polygonId,E=e.setPolygonId,g=Object(n.useState)(ze.lineThickness),h=Object(o.a)(g,2),p=h[0],b=h[1],v=Object(n.useState)(ze.brushColor),j=Object(o.a)(v,2),x=j[0],_=j[1],k=Object(n.useState)(ze.name),S=Object(o.a)(k,2),w=S[0],M=S[1],P=Object(n.useState)(ze.description),N=Object(o.a)(P,2),F=N[0],L=N[1],D=function(){b(ze.lineThickness),_(ze.brushColor),M(ze.name),L(ze.description)};Object(n.useEffect)((function(){d&&m&&O("".concat("/polygon","/").concat(d)).then((function(e){var t=e.data;b(t.line_thickness),_({r:t.brush_color_r,g:t.bruch_color_g,b:t.brush_color_b,a:t.brush_alfa}),M(t.name),L(t.description)}))}),[d,m]);var z=function(){m||D(),t()};return r.a.createElement(I,{size:"lg",show:a,onHide:function(){return z()},header:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0430\u0431\u043e \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043f\u043e\u043b\u0456\u0433\u043e\u043d"},r.a.createElement(f.a,null,r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Choose color of the polygon and line thickness"),r.a.createElement(f.a.Control,{type:"number",value:p,onChange:function(e){return b(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(De.SketchPicker,{color:x,onChangeComplete:function(e){var t=e.rgb;return _(t)}})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Enter name"),r.a.createElement(f.a.Control,{type:"input",value:w,onChange:function(e){return M(e.target.value)}})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Enter description"),r.a.createElement(f.a.Control,{as:"textarea",rows:"3",value:F,onChange:function(e){return L(e.target.value)}})),m?r.a.createElement(Me,{onSave:function(e){C("".concat("/polygon","/").concat(d),{brush_color_r:x.r,bruch_color_g:x.g,brush_color_b:x.b,brush_alfa:x.a,line_collor_r:x.r,line_color_g:x.g,line_color_b:x.b,line_alfa:x.a,line_thickness:Number(p),name:w,description:F,emission:e}).then((function(){D(),t(),i([]),c(!0),s(!1),E(null)})).catch((function(){s(!1),E(null),i([]),c(!1)}))}}):r.a.createElement(Me,{onSave:function(e){y("/polygon",{brush_color_r:x.r,bruch_color_g:x.g,brush_color_b:x.b,brush_alfa:x.a,line_collor_r:x.r,line_color_g:x.g,line_color_b:x.b,line_alfa:x.a,line_thickness:Number(p),name:w,id_of_user:Number(u.id_of_user),id_of_expert:Number(u.id_of_expert),type:ze.type,description:F,points:l.map((function(e,t){return{latitude:e.lat,longitude:e.lng,order123:t}})),emission:e}).then((function(){D(),t(),i([]),c(!0)})).catch((function(){i([]),c(!1)}))}})))},Ge=(a(642),function(e){var t,a=e.user,l=e.setFilteredItems,c=Object(n.useState)([]),i=Object(o.a)(c,2),u=i[0],s=i[1];Object(n.useEffect)((function(){O("/experts").then((function(e){var t=e.data;s(t)}))}),[]);return r.a.createElement(f.a,{onSubmit:function(e){e.preventDefault();var n=t,r=n.expertCheckbox,c=n.myCheckbox,o=Array.from(r).filter((function(e){return e.checked})).map((function(e){var t=e.value;return u.find((function(e){return+e.id_of_expert===+t}))}));c&&c.checked?l({isMyObjectsSelectionChecked:!0,items:[].concat(Object(Z.a)(o),[a])}):l({isMyObjectsSelectionChecked:!1,items:o})},className:"filtration-form d-flex justify-content-center flex-column",ref:function(e){return t=e}},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0430"),u.length&&u.map((function(e){return r.a.createElement(f.a.Check,{label:e.expert_name,type:"checkbox",value:e.id_of_expert,key:e.id_of_expert,name:"expertCheckbox"})})),a&&r.a.createElement(f.a.Check,{label:"\u041c\u043e\u0457 \u043e\u0431'\u0454\u043a\u0442\u0438",type:"checkbox",value:a.id_of_user,key:a.id_of_user,name:"myCheckbox"})),r.a.createElement(m.a,{variant:"primary",type:"submit",className:"text-center"},"Submit"))}),He=(a(643),{points:[],polygons:[{name:"",expertName:"",polygonPoints:[]}],filteredPolygons:[],filteredItems:{isMyObjectsSelectionChecked:!1,items:[]},filteredPoints:[],isAddPointModeEnabled:!1,isAddPolygonModeEnabled:!1,showPointModal:!1,showPolygonModal:!1,newPointCoordinates:[],newPolygonCoordinates:[],shouldFetchData:!0,isEditPointMode:!1,pointId:null,isEditPolygonMode:!1,polygonId:null}),Te=function(e,t){return t?"Disable add ".concat(e," mode"):"Add ".concat(e," to the map")},Be=function(e){var t=e.user,a=Object(n.useState)(He.filteredItems),l=Object(o.a)(a,2),c=l[0],i=l[1],u=Object(n.useState)(He.shouldFetchData),s=Object(o.a)(u,2),d=s[0],E=s[1],f=Object(n.useState)(He.filteredPoints),g=Object(o.a)(f,2),h=g[0],p=g[1],b=Object(n.useState)(He.isAddPointModeEnabled),v=Object(o.a)(b,2),y=v[0],j=v[1],x=Object(n.useState)(He.showPointModal),C=Object(o.a)(x,2),_=C[0],S=C[1],w=Object(n.useState)(He.newPointCoordinates),I=Object(o.a)(w,2),M=I[0],P=I[1],N=Object(n.useState)(He.filteredPolygons),F=Object(o.a)(N,2),L=F[0],D=F[1],z=Object(n.useState)(He.isAddPolygonModeEnabled),A=Object(o.a)(z,2),G=A[0],H=A[1],T=Object(n.useState)(He.showPolygonModal),B=Object(o.a)(T,2),U=B[0],W=B[1],V=Object(n.useState)(He.newPolygonCoordinates),J=Object(o.a)(V,2),Y=J[0],K=J[1],R=Object(n.useState)(He.isEditPointMode),X=Object(o.a)(R,2),ee=X[0],ae=X[1],ne=Object(n.useState)(He.pointId),re=Object(o.a)(ne,2),le=re[0],ce=re[1],oe=Object(n.useState)(He.isEditPolygonMode),ie=Object(o.a)(oe,2),ue=ie[0],me=ie[1],se=Object(n.useState)(He.polygonId),de=Object(o.a)(se,2),Ee=de[0],fe=de[1],ge=Object(n.useState)({northLatitude:null,southLatitude:null,westLongitude:null,eastLongitude:null}),he=Object(o.a)(ge,2),pe=he[0],be=he[1],ve=function(e){var t=e.id_of_expert;return c.items.some((function(e){var a=e.id_of_expert;return t===a}))},je=function(e){var t=e.id_of_user;return c.items.some((function(e){var a=e.id_of_user;return t===a}))};Object(n.useEffect)((function(){d&&(!function(){O("/polygons").then((function(e){var t=e.data;D(t),He.polygons=t}));var e="".concat("/points");Object.values(pe).every((function(e){return!!e}))&&(e+="?eastLongitude=".concat(pe.eastLongitude,"&westLongitude=").concat(pe.westLongitude,"&southLatitude=").concat(pe.southLatitude,"&northLatitude=").concat(pe.northLatitude)),O("".concat(e)).then((function(e){var t=e.data;p(t),He.points=t}))}(),E(!1))}),[d]),Object(n.useEffect)((function(){if(c.items.length){var e=[],t=[];if(e=He.polygons.filter(ve),t=He.points.filter(ve),c.isMyObjectsSelectionChecked){var a=He.polygons.filter(je),n=He.points.filter(je);e=[].concat(Object(Z.a)(e),Object(Z.a)(a)),t=[].concat(Object(Z.a)(t),Object(Z.a)(n))}t=te(t,"Id"),e=te(e,"polygonId"),p(t),D(e)}else p(He.points),D(He.polygons)}),[c]);var Oe=function(e){var t={northLatitude:e._northEast.lat,eastLongitude:e._northEast.lng,southLatitude:e._southWest.lat,westLongitude:e._southWest.lng};be(t),E(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{center:k,zoom:6,maxZoom:15,attributionControl:!0,zoomControl:!0,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35,onClick:function(e){var t=e.latlng,a=t.lat,n=t.lng;if(y)return P([a,n]),void S(!0);G&&K([].concat(Object(Z.a)(Y),[{lat:a,lng:n}]))},onMouseup:function(e){return Oe(e.target.getBounds())},onZoomEnd:function(e){return Oe(e.target.getBounds())}},r.a.createElement(Q.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),r.a.createElement(ye,{polygons:L,setPolygonId:fe,setIsEditPolygonMode:me,setShowPolygonModal:W}),r.a.createElement(xe,{points:h,setPointId:ce,setIsEditPointMode:ae,setShowPointModal:S})),t&&r.a.createElement($.a,{expand:"lg",className:"map-options"},r.a.createElement(m.a,{size:"sm",variant:y?"outline-danger":"outline-primary",onClick:function(){return j(!y)}},Te("point",y)),r.a.createElement(m.a,{className:"ml-3",size:"sm",variant:G?"outline-danger":"outline-primary",onClick:function(){return H(!G)}},Te("polygon",G)),G&&r.a.createElement(m.a,{className:"ml-3",size:"sm",variant:"outline-success",onClick:function(){H(!1),Y.length>=3?W(!0):K([])}},"Finish polygon")),r.a.createElement(Ge,{user:t,setFilteredItems:i}),r.a.createElement(Le,{show:_,onHide:function(){return S(!1)},setShouldFetchData:E,coordinates:M,isEditPointMode:ee,setIsEditPointMode:ae,pointId:le,setPointId:ce,user:t}),r.a.createElement(Ae,{show:U,onHide:function(){return W(!1)},setShouldFetchData:E,setNewPolygonCoordinates:K,coordinates:Y,user:t,isEditPolygonMode:ue,setIsEditPolygonMode:me,polygonId:Ee,setPolygonId:fe}))},Ue=function(){var e=r.a.useState({}),t=Object(o.a)(e,2),a=t[0],n=t[1];return r.a.useEffect((function(){n(JSON.parse(sessionStorage.getItem("user")))}),[]),r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(F,{user:a,setUser:n}),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:R}),r.a.createElement(u.a,{path:"/earth",component:function(){return r.a.createElement(Be,{user:a})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(644);c.a.render(r.a.createElement(Ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[343,1,2]]]);
//# sourceMappingURL=main.3b90e000.chunk.js.map